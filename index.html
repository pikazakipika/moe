<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>資産推移予測ツール</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h1>資産推移予測ツール</h1>

    <form id="inputForm">
      <!-- 基本情報セクション -->
      <section class="input-section">
        <h2>基本情報</h2>
        <div class="input-group">
          <label for="husbandBirthYear">夫の生年</label>
          <input type="number" id="husbandBirthYear" name="husbandBirthYear" placeholder="1990" min="1950" max="2010">
          <span class="unit">年</span>
        </div>
        <div class="input-group">
          <label for="wifeBirthYear">妻の生年</label>
          <input type="number" id="wifeBirthYear" name="wifeBirthYear" placeholder="1992" min="1950" max="2010">
          <span class="unit">年</span>
        </div>
        <div class="input-group">
          <label for="currentAssets">現在の資産額</label>
          <input type="number" id="currentAssets" name="currentAssets" placeholder="5000000" step="100000">
          <span class="unit">円</span>
        </div>
        <div class="input-group">
          <label for="husbandRetireAge">夫の退職年齢</label>
          <input type="number" id="husbandRetireAge" name="husbandRetireAge" placeholder="65" min="50" max="75">
          <span class="unit">歳</span>
        </div>
        <div class="input-group">
          <label for="wifeRetireAge">妻の退職年齢</label>
          <input type="number" id="wifeRetireAge" name="wifeRetireAge" placeholder="60" min="50" max="75">
          <span class="unit">歳</span>
        </div>
      </section>

      <!-- 収入セクション -->
      <section class="input-section">
        <h2>収入（税引前・年額）</h2>
        <div class="input-group">
          <label for="husbandIncome">夫の年収</label>
          <input type="number" id="husbandIncome" name="husbandIncome" placeholder="5000000" step="10000">
          <span class="unit">円</span>
        </div>
        <div class="input-group">
          <label for="wifeIncome">妻の年収</label>
          <input type="number" id="wifeIncome" name="wifeIncome" placeholder="3000000" step="10000">
          <span class="unit">円</span>
        </div>
      </section>

      <!-- 子供情報セクション -->
      <section class="input-section">
        <h2>子供情報（最大3人）</h2>
        <p class="section-note">生年を入力すると各種費用が自動計算されます</p>
        <div class="input-group">
          <label for="child1BirthYear">第1子の生年</label>
          <input type="number" id="child1BirthYear" name="child1BirthYear" placeholder="2025" min="2000" max="2050">
          <span class="unit">年</span>
        </div>
        <div class="input-group">
          <label for="child2BirthYear">第2子の生年</label>
          <input type="number" id="child2BirthYear" name="child2BirthYear" placeholder="" min="2000" max="2050">
          <span class="unit">年</span>
        </div>
        <div class="input-group">
          <label for="child3BirthYear">第3子の生年</label>
          <input type="number" id="child3BirthYear" name="child3BirthYear" placeholder="" min="2000" max="2050">
          <span class="unit">年</span>
        </div>
        <p class="section-note" style="margin-top: 16px;">子供1人あたりの費用（基準額・年齢で自動調整）</p>
        <div class="input-group">
          <label for="childExtracurricular">学校外教育/活動費</label>
          <input type="number" id="childExtracurricular" name="childExtracurricular" placeholder="10000" step="1000">
          <span class="unit">円/月</span>
        </div>
        <div class="input-group">
          <label for="childClothing">衣服/生活用品</label>
          <input type="number" id="childClothing" name="childClothing" placeholder="5000" step="1000">
          <span class="unit">円/月</span>
        </div>
        <div class="input-group">
          <label for="childAllowance">お小遣い/携帯</label>
          <input type="number" id="childAllowance" name="childAllowance" placeholder="5000" step="1000">
          <span class="unit">円/月</span>
        </div>
      </section>

      <!-- 月額固定支出セクション -->
      <section class="input-section">
        <h2>月額固定支出</h2>
        <div class="input-group">
          <label for="houseLoan">家のローン</label>
          <input type="number" id="houseLoan" name="houseLoan" placeholder="100000" step="1000">
          <span class="unit">円/月</span>
        </div>
        <div class="input-group">
          <label for="carLoan">車のローン</label>
          <input type="number" id="carLoan" name="carLoan" placeholder="30000" step="1000">
          <span class="unit">円/月</span>
        </div>
        <div class="input-group">
          <label for="utilities">公共料金（電気・ガス・水道）</label>
          <input type="number" id="utilities" name="utilities" placeholder="25000" step="1000">
          <span class="unit">円/月</span>
        </div>
        <div class="input-group">
          <label for="phone">携帯代</label>
          <input type="number" id="phone" name="phone" placeholder="15000" step="1000">
          <span class="unit">円/月</span>
        </div>
        <div class="input-group">
          <label for="wifi">WiFi代</label>
          <input type="number" id="wifi" name="wifi" placeholder="5000" step="1000">
          <span class="unit">円/月</span>
        </div>
        <div class="input-group">
          <label for="husbandAllowance">夫の小遣い</label>
          <input type="number" id="husbandAllowance" name="husbandAllowance" placeholder="30000" step="1000">
          <span class="unit">円/月</span>
        </div>
        <div class="input-group">
          <label for="wifeAllowance">妻の小遣い</label>
          <input type="number" id="wifeAllowance" name="wifeAllowance" placeholder="30000" step="1000">
          <span class="unit">円/月</span>
        </div>
        <div class="input-group">
          <label for="food">家族の食費</label>
          <input type="number" id="food" name="food" placeholder="60000" step="1000">
          <span class="unit">円/月</span>
        </div>
        <div class="input-group">
          <label for="medical">医療費</label>
          <input type="number" id="medical" name="medical" placeholder="10000" step="1000">
          <span class="unit">円/月</span>
        </div>
        <div class="input-group">
          <label for="insurance">保険料</label>
          <input type="number" id="insurance" name="insurance" placeholder="20000" step="1000">
          <span class="unit">円/月</span>
        </div>
        <div class="input-group">
          <label for="contact">コンタクト代</label>
          <input type="number" id="contact" name="contact" placeholder="5000" step="1000">
          <span class="unit">円/月</span>
        </div>
      </section>

      <!-- 年額支出セクション -->
      <section class="input-section">
        <h2>年額支出</h2>
        <div class="input-group">
          <label for="event">イベント費</label>
          <input type="number" id="event" name="event" placeholder="100000" step="10000">
          <span class="unit">円/年</span>
        </div>
        <div class="input-group">
          <label for="ceremony">冠婚葬祭費</label>
          <input type="number" id="ceremony" name="ceremony" placeholder="100000" step="10000">
          <span class="unit">円/年</span>
        </div>
        <div class="input-group">
          <label for="travel">旅費</label>
          <input type="number" id="travel" name="travel" placeholder="200000" step="10000">
          <span class="unit">円/年</span>
        </div>
        <div class="input-group">
          <label for="celebration">お祝い費</label>
          <input type="number" id="celebration" name="celebration" placeholder="50000" step="10000">
          <span class="unit">円/年</span>
        </div>
      </section>

      <div class="button-row">
        <button type="submit" class="calculate-btn">計算する</button>
        <button type="button" class="help-btn" id="helpBtn">?</button>
      </div>
    </form>

    <!-- 結果表示エリア -->
    <section id="result" class="result-section" style="display: none;">
      <h2>年間収支サマリー</h2>
      <div class="result-summary">
        <div class="result-item">
          <span class="result-label">年間収入（税引後）</span>
          <span id="totalIncome" class="result-value">0</span>
          <span class="unit">円</span>
        </div>
        <div class="result-item">
          <span class="result-label">年間支出</span>
          <span id="totalExpense" class="result-value">0</span>
          <span class="unit">円</span>
        </div>
        <div class="result-item result-balance">
          <span class="result-label">年間収支</span>
          <span id="balance" class="result-value">0</span>
          <span class="unit">円</span>
        </div>
      </div>

      <!-- 資産推移表 -->
      <h2 class="table-title">100歳までの資産推移</h2>
      <div class="table-container">
        <table id="projectionTable">
          <thead>
            <tr>
              <th>年</th>
              <th>年齢</th>
              <th class="expandable" id="incomeHeader">収入 <span class="expand-icon">▶</span></th>
              <th class="detail-col income-detail">夫給与</th>
              <th class="detail-col income-detail">妻給与</th>
              <th class="detail-col income-detail">夫年金</th>
              <th class="detail-col income-detail">妻年金</th>
              <th class="detail-col income-detail">児童手当</th>
              <th class="expandable" id="expenseHeader">支出 <span class="expand-icon">▶</span></th>
              <th class="detail-col expense-detail">ローン</th>
              <th class="detail-col expense-detail">食費</th>
              <th class="detail-col expense-detail">小遣い</th>
              <th class="detail-col expense-detail">子1</th>
              <th class="detail-col expense-detail">子2</th>
              <th class="detail-col expense-detail">子3</th>
              <th class="detail-col expense-detail">その他</th>
              <th>収支</th>
              <th>資産残高</th>
              <th>備考</th>
            </tr>
          </thead>
          <tbody id="projectionBody">
          </tbody>
        </table>
      </div>
    </section>
  </div>

  <!-- ヘルプモーダル -->
  <div id="helpModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>計算ロジックの説明</h2>
        <button class="modal-close" id="closeModal">&times;</button>
      </div>
      <div class="modal-body">
        <section class="help-section">
          <h3>収入の計算</h3>
          <table class="help-table">
            <tr><th>項目</th><th>計算方法</th></tr>
            <tr><td>給与（税引後）</td><td>入力額 × 80%</td></tr>
            <tr><td>年金（65歳〜）</td><td>夫: 17万/月、妻: 13万/月</td></tr>
            <tr><td>児童手当</td><td>0〜2歳: 1.5万/月<br>3歳〜高校生: 1万/月<br>第3子以降: 3万/月</td></tr>
            <tr><td>育休給付金</td><td>出産年に給与の約58.5%</td></tr>
          </table>
        </section>

        <section class="help-section">
          <h3>支出の計算</h3>
          <table class="help-table">
            <tr><th>項目</th><th>計算方法</th></tr>
            <tr><td>ローン</td><td>家+車のローン × 12ヶ月</td></tr>
            <tr><td>食費</td><td>家族の食費 × 12ヶ月</td></tr>
            <tr><td>小遣い</td><td>夫+妻の小遣い × 12ヶ月</td></tr>
            <tr><td>その他</td><td>公共料金・携帯・WiFi・医療費・保険・コンタクト × 12 + 年額支出</td></tr>
          </table>
        </section>

        <section class="help-section">
          <h3>子供関連費用（子1/子2/子3）</h3>
          <h4>食費増加（月額）</h4>
          <table class="help-table">
            <tr><th>年齢</th><th>金額</th></tr>
            <tr><td>0〜5歳</td><td>2万円/月</td></tr>
            <tr><td>6〜12歳</td><td>3万円/月</td></tr>
            <tr><td>13〜22歳</td><td>4万円/月</td></tr>
          </table>
          <h4>教育費（年額）</h4>
          <table class="help-table">
            <tr><th>年齢</th><th>区分</th><th>金額</th></tr>
            <tr><td>0〜2歳</td><td>保育料</td><td>48万（第1子のみ）</td></tr>
            <tr><td>3〜5歳</td><td>幼保</td><td>5万</td></tr>
            <tr><td>6〜11歳</td><td>小学校</td><td>10万</td></tr>
            <tr><td>12〜14歳</td><td>中学校</td><td>15万</td></tr>
            <tr><td>15〜17歳</td><td>高校</td><td>25万</td></tr>
            <tr><td>18〜21歳</td><td>大学</td><td>50万</td></tr>
          </table>
          <h4>その他費用（基準額×係数）</h4>
          <table class="help-table">
            <tr><th>年齢</th><th>学校外教育</th><th>衣服等</th><th>小遣い/携帯</th></tr>
            <tr><td>0〜5歳</td><td>×0.5</td><td>×1.0</td><td>×0</td></tr>
            <tr><td>6〜11歳</td><td>×1.0</td><td>×1.0</td><td>×0.5</td></tr>
            <tr><td>12〜14歳</td><td>×1.5</td><td>×1.2</td><td>×1.0</td></tr>
            <tr><td>15〜17歳</td><td>×2.0</td><td>×1.5</td><td>×1.5</td></tr>
            <tr><td>18〜22歳</td><td>×0</td><td>×1.5</td><td>×2.0</td></tr>
          </table>
        </section>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
